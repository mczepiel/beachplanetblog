montageDefine("669db3e","benchmark/compare-with-callbacks",{dependencies:["../q","fs"],factory:function(e){"use strict";var t=e("../q"),n=e("fs");suite("A single simple async operation",function(){bench("with an immediately-fulfilled promise",function(e){t().then(e)}),bench("with direct setImmediate usage",function(e){setImmediate(e)}),bench("with direct setTimeout(â€¦, 0)",function(e){setTimeout(e,0)})}),suite("A fs.readFile",function(){var e=t.denodeify(n.readFile);set("iterations",1e3),set("delay",1e3),bench("directly, with callbacks",function(e){n.readFile(__filename,e)}),bench("with Q.nfcall",function(e){t.nfcall(n.readFile,__filename).then(e)}),bench("with a Q.denodeify'ed version",function(t){e(__filename).then(t)}),bench("with manual usage of deferred.makeNodeResolver",function(e){var i=t.defer();n.readFile(__filename,i.makeNodeResolver()),i.promise.then(e)})}),suite("1000 operations in parallel",function(){function e(e,t){var n=0;return function(){++n===e&&t()}}var n=1e3;bench("with immediately-fulfilled promises",function(i){for(var r=e(n,i),o=0;n>o;++o)t().then(r)}),bench("with direct setImmediate usage",function(t){for(var i=e(n,t),r=0;n>r;++r)setImmediate(i)})})}});